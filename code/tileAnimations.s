animationData_5ba9:
	.dw $9340
	.dw $d130
	.dw $9340
	.dw $d100
	.dw $9340
	.dw $d120
	.dw $9340
	.dw $d110
	.dw $9340
	.dw $d150
	.dw $9340
	.dw $d160
	.dw $9340
	.dw $d140
	.dw $9340
	.dw $d170

	.dw $9350
	.dw $d130
	.dw $9350
	.dw $d100
	.dw $9350
	.dw $d120
	.dw $9350
	.dw $d100

	.dw $9370
	.dw $d130
	.dw $9370
	.dw $d100
	.dw $9370
	.dw $d120
	.dw $9370
	.dw $d110
	.dw $9370
	.dw $d150
	.dw $9370
	.dw $d160
	.dw $9370
	.dw $d140
	.dw $9370
	.dw $d170

	.dw $9360
	.dw $d130
	.dw $9360
	.dw $d100
	.dw $9360
	.dw $d120
	.dw $9360
	.dw $d100
	.dw $0000
	.dw animationData_5ba9


animationData_5c0d:
	.dw $8c40
	.dw $d200
	.dw $8c50
	.dw $d200
	.dw $8c60
	.dw $d200
	.dw $8c70
	.dw $d200

	.dw $8c40
	.dw $d210
	.dw $8c50
	.dw $d210
	.dw $8c60
	.dw $d210
	.dw $8c70
	.dw $d210

	.dw $8c40
	.dw $d220
	.dw $8c50
	.dw $d220
	.dw $8c60
	.dw $d220
	.dw $8c70
	.dw $d220

	.dw $8c40
	.dw $d230
	.dw $8c50
	.dw $d230
	.dw $8c60
	.dw $d230
	.dw $8c70
	.dw $d230

	.dw $8c40
	.dw $d220
	.dw $8c50
	.dw $d220
	.dw $8c60
	.dw $d220
	.dw $8c70
	.dw $d220

	.dw $8c40
	.dw $d210
	.dw $8c50
	.dw $d210
	.dw $8c60
	.dw $d210
	.dw $8c70
	.dw $d210

	.dw $0000
	.dw animationData_5c0d


animationData_5c71:
	.dw $9640
	.dw $d200
	.dw $9650
	.dw $d200
	.dw $9660
	.dw $d200
	.dw $9670
	.dw $d200

	.dw $9640
	.dw $d210
	.dw $9650
	.dw $d210
	.dw $9660
	.dw $d210
	.dw $9670
	.dw $d210

	.dw $9640
	.dw $d220
	.dw $9650
	.dw $d220
	.dw $9660
	.dw $d220
	.dw $9670
	.dw $d220

	.dw $9640
	.dw $d230
	.dw $9650
	.dw $d230
	.dw $9660
	.dw $d230
	.dw $9670
	.dw $d230

	.dw $9640
	.dw $d220
	.dw $9650
	.dw $d220
	.dw $9660
	.dw $d220
	.dw $9670
	.dw $d220

	.dw $9640
	.dw $d210
	.dw $9650
	.dw $d210
	.dw $9660
	.dw $d210
	.dw $9670
	.dw $d210

	.dw $0000
	.dw animationData_5c71


animationData_5cd5:
	.dw $9480
	.dw $d130
	.dw $9480
	.dw $d100
	.dw $9480
	.dw $d120
	.dw $9480
	.dw $d110
	.dw $9480
	.dw $d150
	.dw $9480
	.dw $d160
	.dw $9480
	.dw $d140
	.dw $9480
	.dw $d170

	.dw $9490
	.dw $d130
	.dw $9490
	.dw $d100
	.dw $9490
	.dw $d120
	.dw $9490
	.dw $d100

	.dw $96f0
	.dw $d130
	.dw $96f0
	.dw $d100
	.dw $96f0
	.dw $d120
	.dw $96f0
	.dw $d100

	.dw $94a0
	.dw $d130
	.dw $94a0
	.dw $d100
	.dw $94a0
	.dw $d120
	.dw $94a0
	.dw $d110
	.dw $94a0
	.dw $d150
	.dw $94a0
	.dw $d160
	.dw $94a0
	.dw $d140
	.dw $94a0
	.dw $d170

	.dw $94b0
	.dw $d130
	.dw $94b0
	.dw $d100
	.dw $94b0
	.dw $d120
	.dw $94b0
	.dw $d100

	.dw $96d0
	.dw $d130
	.dw $96d0
	.dw $d100
	.dw $96d0
	.dw $d120
	.dw $96d0
	.dw $d110
	.dw $96d0
	.dw $d150
	.dw $96d0
	.dw $d160
	.dw $96d0
	.dw $d140
	.dw $96d0
	.dw $d170

	.dw $0000
	.dw animationData_5cd5


animationData_5d69:
	.dw $9340
	.dw $d180
	.dw $9350
	.dw $d180
	.dw $9360
	.dw $d180
	.dw $9370
	.dw $d180

	.dw $9340
	.dw $d190
	.dw $9350
	.dw $d190
	.dw $9360
	.dw $d190
	.dw $9370
	.dw $d190

	.dw $9340
	.dw $d1a0
	.dw $9350
	.dw $d1a0
	.dw $9360
	.dw $d1a0
	.dw $9370
	.dw $d1a0

	.dw $9340
	.dw $d1b0
	.dw $9350
	.dw $d1b0
	.dw $9360
	.dw $d1b0
	.dw $9370
	.dw $d1b0

	.dw $9340
	.dw $d1c0
	.dw $9350
	.dw $d1c0
	.dw $9360
	.dw $d1c0
	.dw $9370
	.dw $d1c0

	.dw $9340
	.dw $d1d0
	.dw $9350
	.dw $d1d0
	.dw $9360
	.dw $d1d0
	.dw $9370
	.dw $d1d0

	.dw $9340
	.dw $d1e0
	.dw $9350
	.dw $d1e0
	.dw $9360
	.dw $d1e0
	.dw $9370
	.dw $d1e0

	.dw $9340
	.dw $d1f0
	.dw $9350
	.dw $d1f0
	.dw $9360
	.dw $d1f0
	.dw $9370
	.dw $d1f0

	.dw $0000
	.dw animationData_5d69


animationData_5ded:
	.dw $9500
	.dw $d130
	.dw $9500
	.dw $d100
	.dw $9500
	.dw $d120
	.dw $9500
	.dw $d110
	.dw $9500
	.dw $d150
	.dw $9500
	.dw $d160
	.dw $9500
	.dw $d140
	.dw $9500
	.dw $d170

	.dw $9510
	.dw $d130
	.dw $9510
	.dw $d100
	.dw $9510
	.dw $d120
	.dw $9510
	.dw $d100

	.dw $9520
	.dw $d130
	.dw $9520
	.dw $d100
	.dw $9520
	.dw $d120
	.dw $9520
	.dw $d110
	.dw $9520
	.dw $d150
	.dw $9520
	.dw $d160
	.dw $9520
	.dw $d140
	.dw $9520
	.dw $d170

	.dw $9530
	.dw $d130
	.dw $9530
	.dw $d100
	.dw $9530
	.dw $d120
	.dw $9530
	.dw $d100

	.dw $0000
	.dw animationData_5ded


animationData_5e51:
	.dw $95c0
	.dw $d240
	.dw $95c0
	.dw $d250
	.dw $95c0
	.dw $d260
	.dw $95c0
	.dw $d270
	.dw $95c0
	.dw $d260
	.dw $95c0
	.dw $d250
	.dw $95c0
	.dw $d240
	.dw $95d0
	.dw $d280
	.dw $95d0
	.dw $d240
	.dw $95d0
	.dw $d250
	.dw $95d0
	.dw $d260
	.dw $95d0
	.dw $d270
	.dw $95d0
	.dw $d260
	.dw $95d0
	.dw $d250
	.dw $95d0
	.dw $d240
	.dw $95d0
	.dw $d280
	.dw $9650
	.dw $d290
	.dw $9650
	.dw $d2a0
	.dw $9650
	.dw $d2b0
	.dw $9650
	.dw $d290
	.dw $9620
	.dw $d240
	.dw $9620
	.dw $d290
	.dw $9620
	.dw $d2a0
	.dw $9620
	.dw $d2b0
	.dw $9620
	.dw $d2a0
	.dw $9620
	.dw $d290
	.dw $9620
	.dw $d240
	.dw $95e0
	.dw $d240
	.dw $95e0
	.dw $d290
	.dw $95e0
	.dw $d2a0
	.dw $95e0
	.dw $d2b0
	.dw $95e0
	.dw $d2a0
	.dw $95e0
	.dw $d290
	.dw $95e0
	.dw $d240
	.dw $95e0
	.dw $d280
	.dw $9670
	.dw $d240
	.dw $9670
	.dw $d290
	.dw $9670
	.dw $d2a0
	.dw $9670
	.dw $d2b0
	.dw $9670
	.dw $d2a0
	.dw $9670
	.dw $d290
	.dw $9670
	.dw $d240
	.dw $95f0
	.dw $d240
	.dw $95f0
	.dw $d290
	.dw $95f0
	.dw $d2a0
	.dw $95f0
	.dw $d2b0
	.dw $95f0
	.dw $d2a0
	.dw $95f0
	.dw $d290
	.dw $95f0
	.dw $d240
	.dw $9600
	.dw $d280
	.dw $9600
	.dw $d240
	.dw $9600
	.dw $d250
	.dw $9600
	.dw $d260
	.dw $9600
	.dw $d270
	.dw $9600
	.dw $d260
	.dw $9600
	.dw $d250
	.dw $9600
	.dw $d240
	.dw $9600
	.dw $d280
	.dw $9620
	.dw $d240
	.dw $9620
	.dw $d290
	.dw $9620
	.dw $d2a0
	.dw $9620
	.dw $d2b0
	.dw $9620
	.dw $d2a0
	.dw $9620
	.dw $d290
	.dw $9620
	.dw $d240
	.dw $9640
	.dw $d280
	.dw $9640
	.dw $d240
	.dw $9640
	.dw $d250
	.dw $9640
	.dw $d260
	.dw $9640
	.dw $d270
	.dw $9640
	.dw $d260
	.dw $9640
	.dw $d250
	.dw $9640
	.dw $d240
	.dw $9640
	.dw $d280
	.dw $0000
	.dw animationData_5e51


titleScreenFlamesAnimation:
	.dw $8800
	.dw $d2d0
	.dw $8800
	.dw $d2e0

	.dw $8810
	.dw $d2d0
	.dw $8810
	.dw $d2e0

	.dw $8820
	.dw $d2d0
	.dw $8820
	.dw $d2e0

	.dw $8830
	.dw $d2d0
	.dw $8830
	.dw $d2e0

	.dw $8800
	.dw $d2f0
	.dw $8800
	.dw $d300

	.dw $8810
	.dw $d2f0
	.dw $8810
	.dw $d300

	.dw $8820
	.dw $d2f0
	.dw $8820
	.dw $d300

	.dw $8830
	.dw $d2f0
	.dw $8830
	.dw $d300

	.dw $8800
	.dw $d2d0
	.dw $8800
	.dw $d2c0

	.dw $8810
	.dw $d2d0
	.dw $8810
	.dw $d2c0

	.dw $8820
	.dw $d2d0
	.dw $8820
	.dw $d2c0

	.dw $8830
	.dw $d2d0
	.dw $8830
	.dw $d2c0

	.dw $0000
	.dw titleScreenFlamesAnimation


animationData_5fe1:
	.dw $91f0
	.dw $d290
	.dw $91f0
	.dw $d2a0
	.dw $91f0
	.dw $d2b0
	.dw $91f0
	.dw $d290

	.dw $8940
	.dw $d130
	.dw $8940
	.dw $d100
	.dw $8940
	.dw $d120
	.dw $8940
	.dw $d110
	.dw $8940
	.dw $d150
	.dw $8940
	.dw $d160
	.dw $8940
	.dw $d140
	.dw $8940
	.dw $d170

	.dw $91d0
	.dw $d280
	.dw $91d0
	.dw $d240
	.dw $91d0
	.dw $d250
	.dw $91d0
	.dw $d260
	.dw $91d0
	.dw $d270
	.dw $91d0
	.dw $d260
	.dw $91d0
	.dw $d250
	.dw $91d0
	.dw $d240
	.dw $91d0
	.dw $d280

	.dw $8950
	.dw $d130
	.dw $8950
	.dw $d100
	.dw $8950
	.dw $d120
	.dw $8950
	.dw $d100

	.dw $91c0
	.dw $d240
	.dw $91c0
	.dw $d250
	.dw $91c0
	.dw $d260
	.dw $91c0
	.dw $d270
	.dw $91c0
	.dw $d260
	.dw $91c0
	.dw $d250
	.dw $91c0
	.dw $d240

	.dw $8970
	.dw $d130
	.dw $8970
	.dw $d100
	.dw $8970
	.dw $d120
	.dw $8970
	.dw $d110
	.dw $8970
	.dw $d150
	.dw $8970
	.dw $d160
	.dw $8970
	.dw $d140
	.dw $8970
	.dw $d170

	.dw $91e0
	.dw $d240
	.dw $91e0
	.dw $d290
	.dw $91e0
	.dw $d2a0
	.dw $91e0
	.dw $d2b0
	.dw $91e0
	.dw $d2a0
	.dw $91e0
	.dw $d290
	.dw $91e0
	.dw $d240
	.dw $91e0
	.dw $d280

	.dw $8960
	.dw $d130
	.dw $8960
	.dw $d100
	.dw $8960
	.dw $d120
	.dw $8960
	.dw $d100

	.dw $0000
	.dw animationData_5fe1


animateTile:
	ld   hl, wCurrVBlanksUntilNextTileAnimation
	dec  (hl)
	jr   z, +

	ret

+
	ld   hl, rLY
	ld   a, (hl)
	cp   $98
	jr   c, @notLateVBlank

	ld   hl, wCurrVBlanksUntilNextTileAnimation
	inc  (hl)
	ret

@notLateVBlank:
	ld   hl, wCurrTileAnimationAddr
	ldi  a, (hl)
	ld   h, (hl)
	ld   l, a
	or   h
	jr   nz, @readNextAnimationDataAddr

	ret

@readNextAnimationDataAddr:
	push hl

// bc = hl + 4
	ld   bc, $0004
	add  hl, bc
	push hl
	pop  bc

// store in d0fe/d0ff (next word to process in this loop)
	ld   hl, wCurrTileAnimationAddr
	ld   (hl), c
	inc  hl
	ld   (hl), b

// orig word to process into de
	pop  hl
	ldi  a, (hl)
	ld   e, a
	ld   d, (hl)
	inc  hl
	or   d
	jr   nz, +

	ldi  a, (hl)
	ld   h, (hl)
	ld   l, a
	jr   @readNextAnimationDataAddr

+
	ldi  a, (hl)
	ld   h, (hl)
	ld   l, a

// copy to tile
.rept 16
	ldi  a, (hl)
	ld   (de), a
	inc  de
.endr
	ld   hl, wVBlanksPerTileAnimation
	ld   a, (hl)
	ld   hl, wCurrVBlanksUntilNextTileAnimation
	ld   (hl), a
	ret


animationData:
	.dw animationData_5ba9
	.dw $0000
	.dw $0000
	.dw $0000
	.dw animationData_5c0d
	.dw $0000
	.dw $0000
	.dw $0000
	.dw $0000
	.dw $0000
	.dw animationData_5ba9
	.dw $0000
	.dw animationData_5c71
	.dw $0000
	.dw $0000
	.dw $0000
	.dw $0000
	.dw $0000
	.dw animationData_5cd5
	.dw $0000
	.dw $0000
	.dw $0000
	.dw animationData_5d69
	.dw $0000
	.dw animationData_5ded
	.dw $0000
	.dw animationData_5e51
	.dw $0000
	.dw $0000
	.dw titleScreenFlamesAnimation
	.dw animationData_5fe1
	.dw $0000
	.dw $0000
	.dw $0000

// indexed by tileset idx
// byte 1 - how many vblanks until new animation
// byte 2 - initial time for vblank animation
tileAnimationParameters:
	.db $08 $01
	.db $01 $01
	.db $01 $01
	.db $01 $01
	.db $01 $01
	.db $06 $01
	.db $01 $01
	.db $01 $01
	.db $01 $01
	.db $05 $01
	.db $01 $01
	.db $02 $01
	.db $08 $01
	.db $02 $01
	.db $01 $04
	.db $06 $01
	.db $01 $01


loadAnimationParametersForTileset:
	ld   hl, wTilesetIdx
	ld   e, (hl)
	ld   d, $00
	ld   hl, animationData
	add  hl, de
	add  hl, de

// start of animation in d0fe/d0ff
	ld   bc, wCurrTileAnimationAddr
	ldi  a, (hl)
	ld   (bc), a
	inc  bc
	ldi  a, (hl)
	ld   (bc), a

// load time parameters
	ld   hl, tileAnimationParameters
	add  hl, de
	ld   a, (hl)
	ld   hl, wVBlanksPerTileAnimation
	ld   (hl), a
	ld   hl, wCurrVBlanksUntilNextTileAnimation
	ld   (hl), a
	ret
